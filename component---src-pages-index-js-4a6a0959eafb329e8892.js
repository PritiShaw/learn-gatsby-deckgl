(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{144:function(e,t,n){"use strict";n.r(t);var a=n(7),i=n.n(a),o=n(0),r=n.n(o),l=(n(33),n(515)),c=n(517),s=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).state={viewport:{latitude:13.7525,longitude:100.494167,zoom:12,pitch:0,bearing:0}},t}return i()(t,e),t.prototype.render=function(){var e=this,t=new l.b({id:"scatterplot-layer",data:this.props.locations,opacity:.1,stroked:!1,filled:!0,radiusScale:6,radiusMinPixels:2,lineWidthMinPixels:1,getPosition:function(e){return e.position},getFillColor:[200,0,200]}),n=new l.a({id:"grid-layer",data:this.props.locations,colorRange:[[50,240,100,45],[50,240,100,95],[50,240,100,135],[50,240,100,175],[50,240,100,215],[50,240,100,255]],pickable:!0,extruded:!1,cellSize:600,elevationScale:4,opacity:.5,getPosition:function(e){return e.position},onClick:function(t){var n=t.object;e.props.onSelectArea(n)}});return r.a.createElement(l.c,{initialViewState:this.state.viewport,controller:!0,layers:[n,t]},r.a.createElement(c.a,Object.assign({mapboxApiAccessToken:"pk.eyJ1Ijoid2l0aGVlcCIsImEiOiJjanVoem56bDcxMmQ5NGRzMDBoMDkzZmVjIn0.Sp5W6q-zk9kSepCOFtcieA"},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})}})))},t}(r.a.Component),p=n(516),u=function(e){var t=e.data,n=["S","M","T","W","TH","F","SA"].map(function(e){return{label:e,count:0}});return t.points.forEach(function(e){var t=new Date(parseInt(e.timestamp)).getDay();n[t].count++}),r.a.createElement("div",{style:{position:"fixed",right:0,zIndex:100,height:"100vh",width:"25vw"}},r.a.createElement("div",{style:{backgroundColor:"white",padding:"5px",margin:"10px"}},r.a.createElement("h3",null,t.position.join(", ")),r.a.createElement("p",null,"Total ",t.count," points")),r.a.createElement("div",{style:{backgroundColor:"white",padding:"5px",margin:"10px"}},r.a.createElement("strong",null,"Day of week count"),r.a.createElement(p.e,{width:"100%",height:200},r.a.createElement(p.b,{data:n},r.a.createElement(p.c,{strokeDasharray:"3 3"}),r.a.createElement(p.g,{dataKey:"label"}),r.a.createElement(p.h,null),r.a.createElement(p.f,null),r.a.createElement(p.d,null),r.a.createElement(p.a,{dataKey:"count",fill:"#8884d8"})))))};n.d(t,"query",function(){return h});var d=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).state={sidegraphIsOpen:!1,focusArea:{}},t}return i()(t,e),t.prototype.render=function(){var e=this,t=this.props.data.allLocationDataJson.nodes.slice(0,5e3).map(function(e){return{timestamp:e.timestampMs,position:[e.longitudeE7/1e7,e.latitudeE7/1e7],accuracy:e.accuracy}});return r.a.createElement("div",{style:{width:"100vw",height:"100vh"}},r.a.createElement("h2",{style:{position:"fixed",zIndex:"100"}},"Hello Gatsby + Deck.gl"),r.a.createElement(s,{locations:t,onSelectArea:function(t){return e.setState({sidegraphIsOpen:!0,focusArea:t})}}),this.state.sidegraphIsOpen&&r.a.createElement(u,{data:this.state.focusArea}))},t}(r.a.Component),h=(t.default=d,"3984029823")},325:function(e,t){},328:function(e,t){},329:function(e,t){}}]);
//# sourceMappingURL=component---src-pages-index-js-4a6a0959eafb329e8892.js.map